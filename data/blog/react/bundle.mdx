---
title: '[React] 번들이란?'
date: '2024-01-14'
tags: ['react', 'bundle']
draft: true
summary: bundle이란 무엇이고 어떻게 최적화하는가?
---

## 번들(Bundle)이란?

> 번들은 html, css, js, 이미지 등 여러 개의 파일을 하나 또는 소수의 파일로 결합한 것이다. 번들링은 이러한 자원들을 효율적으로 묶어서 사용자에게 전달하는 과정이다.

### 번들링을 하는 이유는 무엇일까?

- 성능 최적화

  - 브라우저는 자원을 서버로부터 요청하고 각각의 파일을 별도로 요청하는 것은 많은 네트워크 지연을 발생한다. 파일들을 하나의 번들로 만들면 브라우저의 네트워크 요청 수가 줄어들어, 로딩 시간이 단축된다. 번들링 과정에서 코드 압축, 불필요한 코드 제거, 이미지 최적화 등 다양한 최적화를 수행하여 다운로드 시간을 줄일 수 있다.

- 호환성 보장

  - 최신 JS 기능과 JSX, Typescript 같은 확장 문법을 다양한 브라우저와 환경에서도 정상적으로 작동할 수 있도록 변환해준다.

- 개발 효율성 증가
  - 개발 시 코드를 모율화하여 관리하고 번들러는 이러한 모듈들을 하나의 파일로 결합하여, 모듈 간의 의존성을 관리하고 실행 순서를 보장한다.

## 웹팩(Webpack)과 바벨(Babel)

### 웹팩이란?

> 웹팩은 웹 애플리케이션을 구성하는 모든 자원을 모듈로 처리하여 이를 결합하고 최적화된 하나 또는 여러개의 파일로 번들링하는 도구이다.
> 이를 통해 네트워크 요청을 줄이고 파일을 최적화하여 웹 애플리케이션의 로딩시간을 개선할 수 있다.

- 주요 기능
  - 모듈 결합: 의존성 그래프를 생성하여 프로젝트에 필요한 모든 모듈을 찾고 결합
  - 로더(loader): 웹팩은 자체적으로 JS와 JSON 파일만 해석할 수 있기에 로더를 사용하여 CSS와 이미지, 파일 등을 모듈로 변환하여 웹팩이 처리할 수 있도록 한다.

### 바벨이란?

> 최신버전의 JS 코드를 이전 버전의 JS로 변환시키는 트렌스파일러이다. 개발자는 최신 JS 기능을 사용하여 코드를 작성할 수 있고 변환된 코드는 최신 기능을 지원하지 않는 브라우저에서도 실행될 수 있다.

- 주요 기능
  - 코드 변환: ES6 이상의 최신 JS 문법과 JSX, Typescript 등을 일반 JS로 변환

웹팩이나 롤업(Rollup) 같은 모듈 번들러와 함께 사용되며, 웹 애플리케이션의 빌드 과정에서 핵심적인 역할을 수행한다.

### 웹팩과 바벨의 차이점

- 웹팩은 파일을 결합하고 최적화하는 번들러이다.
- 바벨은 최신 JS 코드를 이전 버전으로 변환하는 트렌스파일러이다.

## Turbopack과 SWC

### Turbopack이란?

Next.js 13버전이 발표되고 새로운 번들러로 Turbopack이 소개되었다.
JS로 개발된 웹팩에 비해 Rust로 개발되어 극적인 성능 향상을 보였다.

https://nextjs.org/blog/next-13#introducing-turbopack-alpha

Next.js 13 공식문서를 확인해보면 Turbopack의 향상된 성능을 확인할 수 있다.

> 700x faster updates than Webpack
> 10x faster updates than Vite
> 4x faster cold starts than Webpack

![240123-035545](/static/images/bundle/240123-035545.png)

(위 글의 vite와 비교한 부분은 다소 과장된 부분이 있다.)

### SWC

Rust로 만들어진 트렌스파일러로 바벨과 마찬가지로 최신 JS 코들르 이전 버전으로 변환해주는 역할을 한다.
바벨보다 월등히 빠르며 Next.js를 사용할 경우 별다른 설치 없이 사용할 수 있다.
